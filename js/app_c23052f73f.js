var _Mathfloor=Math.floor,_Mathmin=Math.min;webpackJsonp([0],{104:function(t,r,l){"use strict";function o(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(r,"__esModule",{value:!0}),r.history=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(k){return typeof k}:function(k){return k&&"function"==typeof Symbol&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},u=l(137),d=l(219),c=l(710),p=l(318),f=o(p),m=l(744),y=o(m),g=l(348),h=o(g),v=l(349),x=o(v),P=d.compose,E=function(w,I){var N=(0,f.default)(),T=(0,d.createStore)(h.default,I,P((0,d.applyMiddleware)(y.default,(0,c.routerMiddleware)(w),N)));return N.run(x.default),T}(u.hashHistory);!1,r.default=E;r.history=u.hashHistory},106:function(t,r,l){"use strict";function o(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(r,"__esModule",{value:!0}),r.actionCreators=r.secondaryGameGoose=void 0;var s=Object.assign||function(I){for(var T,N=1;N<arguments.length;N++)for(var O in T=arguments[N],T)Object.prototype.hasOwnProperty.call(T,O)&&(I[O]=T[O]);return I},u=l(316),d=l(221),c=l(140),p=l(141),f=l(142),m=o(f),y=l(104),g=l(334),h=o(g),v=l(189),x=o(v),P=r.secondaryGameGoose=new x.default("___GAMESAGA",{endGame:regeneratorRuntime.mark(function I(){var N;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return N=new Date().getTime(),O.next=3,(0,u.put)(d.actionCreators.endGame(N));case 3:return O.next=5,(0,u.call)(y.history.push,"setup");case 5:case"end":return O.stop();}},I,this)})},void 0,!1,!1),C=P.getActionCreators(),E=new x.default("___GAMESAGA",{initGame:regeneratorRuntime.mark(function I(N){var T=N.randomize,O,M,B,R,A,D,F,U,G;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return O=42,M=new Date().getTime(),q.next=4,(0,u.select)(m.default);case 4:return B=q.sent,R=B.playerIds,q.next=8,(0,u.put)(d.actionCreators.init(O,M,T));case 8:return A=R.length,D=T?h.default.random(R):h.default.fixed(R),q.next=12,(0,u.put)(d.actionCreators.setGenerator(D));case 12:F=null,U=0;case 14:if(!(U<2*A)){q.next=22;break}return G=D.next().value,0===U&&(F=G),q.next=19,(0,u.put)(d.actionCreators.addToSequence(G));case 19:U++,q.next=14;break;case 22:return q.next=24,(0,u.put)(p.actionCreators.initScores());case 24:return q.next=26,(0,u.put)(c.actionCreators.init(F));case 26:return q.next=28,(0,u.call)(y.history.push,"game");case 28:case"end":return q.stop();}},I,this)}),handleShot:regeneratorRuntime.mark(function I(N){var T=N.lastShot,O=N.currentTarget,M=N.nextPlayerId,B,R,A;return regeneratorRuntime.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,u.select)(w);case 2:return B=F.sent,R=B(T.player),F.next=6,(0,u.put)(p.actionCreators.addTeamScore(R,T.score));case 6:return F.next=8,(0,u.put)(d.actionCreators.nextTurn(T));case 8:return A=0<T.score?T.player:M,F.next=11,(0,u.put)(c.actionCreators.init(A));case 11:if(15!==O||-1===T.down.indexOf(15)){F.next=14;break}return F.next=14,(0,u.put)(C.endGame());case 14:case"end":return F.stop();}},I,this)}),backToPreviousPlayer:regeneratorRuntime.mark(function I(){var N;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,u.put)(d.actionCreators.backToPreviousPlayer());case 2:return O.next=4,(0,u.select)(k);case 4:return N=O.sent,O.next=7,(0,u.put)(c.actionCreators.init(N));case 7:case"end":return O.stop();}},I,this)}),openMenu:regeneratorRuntime.mark(function I(){return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,u.call)(y.history.push,"setup");case 2:case"end":return T.stop();}},I,this)}),toggleTableBall:regeneratorRuntime.mark(function I(N){var T=N.ballId,O=N.currentDown,M=N.currentOut,B=N.currentTarget;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!(0<T)){A.next=17;break}if(-1===O.indexOf(T)){A.next=8;break}return A.next=4,(0,u.put)(c.actionCreators.removeDownBall(T));case 4:return A.next=6,(0,u.put)(c.actionCreators.addOutBall(T));case 6:A.next=15;break;case 8:if(-1===M.indexOf(T)){A.next=13;break}return A.next=11,(0,u.put)(c.actionCreators.removeOutBall(T));case 11:A.next=15;break;case 13:return A.next=15,(0,u.put)(c.actionCreators.addDownBall(T));case 15:A.next=24;break;case 17:if(-1===M.indexOf(T)){A.next=22;break}return A.next=20,(0,u.put)(c.actionCreators.removeOutBall(T));case 20:A.next=24;break;case 22:return A.next=24,(0,u.put)(c.actionCreators.addOutBall(T));case 24:return A.next=26,(0,u.put)(c.actionCreators.resolve(B));case 26:case"end":return A.stop();}},I,this)})},void 0,!1,!1),S=r.actionCreators=s({},E.getActionCreators(),C);r.default=E;var k=function(N){return N.game.sequence[N.game.currentTurn]},w=function(N){return function(T){return N.players[T].team}}},139:function(t,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=l(3),u=function(c){return c&&c.__esModule?c:{default:c}}(s);l(355);var d=function(p){var f=p.clazz,m=p.label,y=p.onClick,g=p.title,h=p.faIcon,v=p.narrow,x=p.disabled,P=p.mainStyleOverrides,C=p.iconStyleOverrides,E=f+" my-button narrow no-flex"+(x?" disabled":"")+(v?" narrow":"");return u.default.createElement("span",{className:E,role:x?null:"button",tabIndex:x?-1:"0",onClick:x?null:y,title:x?null:g,style:P},m,h?u.default.createElement("i",{className:"fa fa-"+h,"aria-hidden":"true",style:C}):null)};d.propTypes={clazz:s.PropTypes.string.isRequired,onClick:s.PropTypes.func.isRequired,label:s.PropTypes.string,title:s.PropTypes.string,faIcon:s.PropTypes.string,narrow:s.PropTypes.bool,disabled:s.PropTypes.bool,mainStyleOverrides:s.PropTypes.object,iconStyleOverrides:s.PropTypes.object},r.default=d},140:function(t,r,l){"use strict";function s(y){if(Array.isArray(y)){for(var g=0,h=Array(y.length);g<y.length;g++)h[g]=y[g];return h}return Array.from(y)}Object.defineProperty(r,"__esModule",{value:!0}),r.actionCreators=void 0;var u=Object.assign||function(y){for(var h,g=1;g<arguments.length;g++)for(var v in h=arguments[g],h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v]);return y},d=l(96),c=function(y){return y&&y.__esModule?y:{default:y}}(d),f=new c.default("SHOTRED",{player:null,down:[],out:[],foul:!1,score:0},{init:function(g,h){var v=h.playerId;return{player:v,down:[],out:[],foul:!1,score:0}},setFoul:function(g,h){var v=h.newValue;return u({},g,{foul:v})},setScore:function(g,h){var v=h.newScore;return u({},g,{score:v})},addDownBall:function(g,h){var v=h.ballId,x=[].concat(s(g.down));return-1===x.indexOf(v)&&x.push(v),u({},g,{down:x})},addOutBall:function(g,h){var v=h.ballId,x=[].concat(s(g.out));return-1===x.indexOf(v)&&x.push(v),u({},g,{out:x})},removeDownBall:function(g,h){var v=h.ballId,x=g.down.indexOf(v);if(-1===x)return g;var P=[].concat(s(g.down));return P.splice(x,1),u({},g,{down:P})},removeOutBall:function(g,h){var v=h.ballId,x=g.out.indexOf(v);if(-1===x)return g;var P=[].concat(s(g.out));return P.splice(x,1),u({},g,{out:P})},resolve:function(g,h){var v=h.currentTarget,x=!1;-1!==g.down.indexOf(0)||-1!==g.down.indexOf(0)?x=!0:0<g.out.length&&(x=!0);var P;if(x){var C=Math.max(4,v);[].concat(s(g.down),s(g.out)).forEach(function(E){E>C&&(C=E)}),P=-1*C}else P=g.down.reduce(function(E,S){return E+S},0);return u({},g,{foul:x,score:P})}},!1,!1);r.default=f.getReducer();r.actionCreators=f.getActionCreators()},141:function(t,r,l){"use strict";function s(g){if(Array.isArray(g)){for(var h=0,v=Array(g.length);h<g.length;h++)v[h]=g[h];return v}return Array.from(g)}function u(g,h,v){return h in g?Object.defineProperty(g,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[h]=v,g}Object.defineProperty(r,"__esModule",{value:!0}),r.actionCreators=void 0;var d=Object.assign||function(g){for(var v,h=1;h<arguments.length;h++)for(var x in v=arguments[h],v)Object.prototype.hasOwnProperty.call(v,x)&&(g[x]=v[x]);return g},c=l(96),p=function(g){return g&&g.__esModule?g:{default:g}}(c),m=new p.default("TEAMSRED",{},{addTeam:function(h,v){var x=v.teamId,P=v.name;return d({},h,u({},x,{name:P,players:[],score:0}))},removeTeam:function(h,v){var x=v.teamId,P=d({},h);return delete P[x],P},setTeamName:function(h,v){var x=v.teamId,P=v.newName;return d({},h,u({},x,d({},h[x],{name:P})))},addPlayer:function(h,v){var x=v.teamId,P=v.playerId;if(null==h[x])return h;var C=d({},h[x]);return C.players=[].concat(s(new Set([].concat(s(C.players),[P])))),d({},h,u({},x,C))},removePlayer:function(h,v){var x=v.teamId,P=v.playerId;if(null==h[x])return h;var C=d({},h[x]),E=[].concat(s(C.players)),S=E.indexOf(P);return-1===S?h:(E.splice(S,1),C.players=E,d({},h,u({},x,C)))},initScores:function(h){var v={};return Object.keys(h).forEach(function(x){var P=h[x];v[x]=d({},P,{score:0})}),v},addTeamScore:function(h,v){var x=v.teamId,P=v.scoreDelta;return d({},h,u({},x,d({},h[x],{score:h[x].score+P})))},setTeamScore:function(h,v){var x=v.teamId,P=v.newScore;return d({},h,u({},x,d({},h[x],{score:P})))}},!1,!1);r.default=m.getReducer();r.actionCreators=m.getActionCreators()},142:function(t,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=l(88),s=function(p){return p.players},u=(0,o.createSelector)(s,function(c){return function(p){return c[p]}}),d=(0,o.createSelector)(s,function(c){return Object.keys(c||{}).map(function(p){return parseInt(p)})});r.default=(0,o.createSelector)([d,u],function(c,p){return{playerIds:c,getPlayerById:p}})},220:function(t,r,l){"use strict";function o(h){return h&&h.__esModule?h:{default:h}}function s(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function u(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&("object"==typeof v||"function"==typeof v)?v:h}function d(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function h(v,x){for(var C,P=0;P<x.length;P++)C=x[P],C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}return function(v,x,P){return x&&h(v.prototype,x),P&&h(v,P),v}}(),p=l(3),f=o(p),m=l(139),y=o(m),g=function(h){function v(x){s(this,v);var P=u(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x));return P.state={orig:x.value,value:x.value},P.change=P.change.bind(P),P.keyDown=P.keyDown.bind(P),P.blur=P.blur.bind(P),P.submit=P.submit.bind(P),P.waitForInputAndFocus=P.waitForInputAndFocus.bind(P),P.input=void 0,P.props.setFocus&&P.waitForInputAndFocus(200),P}return d(v,h),c(v,[{key:"waitForInputAndFocus",value:function(P){var C=this;if(null!=this.input)this.input.focus();else if(0<P)setTimeout(function(){C.waitForInputAndFocus(P-1)},10);else throw Error("Input element never showed up. So sad.")}},{key:"change",value:function(P){this.setState({value:P.target.value})}},{key:"keyDown",value:function(P){(13===P.keyCode||27===P.keyCode)&&this.input.blur()}},{key:"blur",value:function(){this.props.onBlur&&this.props.onBlur(),this.submit()}},{key:"submit",value:function(){this.state.orig!==this.state.value&&(this.setState({orig:this.state.value}),this.props.onSubmit(this.state.value))}},{key:"render",value:function(){var P=this;return f.default.createElement("div",{className:(this.props.containerClass+" textfield").trim()},f.default.createElement("form",{onSubmit:this.blur,className:(this.props.formClass+" tf-form").trim()},f.default.createElement("input",{type:"text",ref:function(E){P.input=E},value:this.state.value,placeholder:this.props.placeholder,onChange:this.change,onKeyDown:this.keyDown,onBlur:this.blur,className:(this.props.fieldClass+" tf-field").trim()}),this.props.submitFaIcon?f.default.createElement(y.default,{narrow:!0,clazz:(this.props.buttonClass+" tf-button").trim(),title:"Submit",onClick:this.blur,faIcon:this.props.submitFaIcon}):null))}}]),v}(f.default.Component);g.propTypes={value:p.PropTypes.string,placeholder:p.PropTypes.string.isRequired,onSubmit:p.PropTypes.func.isRequired,onBlur:p.PropTypes.func,containerClass:p.PropTypes.string,formClass:p.PropTypes.string,fieldClass:p.PropTypes.string,buttonClass:p.PropTypes.string,setFocus:p.PropTypes.bool,submitFaIcon:p.PropTypes.string},g.defaultProps={value:"",containerClass:"",formClass:"",fieldClass:"",buttonClass:"",setFocus:!0,onBlur:null,submitFaIcon:null},r.default=g},221:function(t,r,l){"use strict";function s(y){if(Array.isArray(y)){for(var g=0,h=Array(y.length);g<y.length;g++)h[g]=y[g];return h}return Array.from(y)}Object.defineProperty(r,"__esModule",{value:!0}),r.actionCreators=void 0;var u=Object.assign||function(y){for(var h,g=1;g<arguments.length;g++)for(var v in h=arguments[g],h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v]);return y},d=l(96),c=function(y){return y&&y.__esModule?y:{default:y}}(d),p={id:null,timestart:null,timeend:null,synced:!1,random:!1,sequence:[],generator:null,currentTurn:0,currentTarget:1,history:[]},f=new c.default("GAMERED",p,{init:function(g,h){var v=h.gameId,x=h.startTime,P=h.randomize;return u({},p,{id:v,timestart:x,random:P})},nextTurn:function(g,h){var v=h.lastShot,x=[].concat(s(g.history));x.push(v);var P=[].concat(s(g.sequence)),C=g.currentTurn;if(0<v.score){var E=g.sequence[C];P.splice(C,0,E)}else{var S=g.generator.next().value;P.push(S)}var k=g.currentTarget;return-1!==[].concat(s(v.down),s(v.out)).indexOf(k)&&k++,u({},g,{history:x,sequence:P,currentTarget:k,currentTurn:C+1})},setGenerator:function(g,h){var v=h.generator;return u({},g,{generator:v})},addToSequence:function(g,h){var v=h.playerId,x=[].concat(s(g.sequence));return x.push(v),u({},g,{sequence:x})},setRandom:function(g,h){var v=h.newValue;return u({},g,{random:v})},undoShot:function(g,h){var v=h.newTurn;v===void 0&&(v=g.currentTurn-1);var x=g.history.slice(0,v);return u({},g,{history:x,currentTurn:v})},setTarget:function(g,h){var v=h.ballId;return u({},g,{currentTarget:v})},endGame:function(g,h){var v=h.endTime;return u({},g,{timeend:v})},backToPreviousPlayer:function(g){var h=g.currentTurn;if(1>h)return g;var v=[].concat(s(g.sequence)),x=g.sequence[h-1];return v.splice(h,0,x),u({},g,{sequence:v})}},!1,!1);r.default=f.getReducer();r.actionCreators=f.getActionCreators()},222:function(t,r,l){"use strict";function s(m){if(Array.isArray(m)){for(var y=0,g=Array(m.length);y<m.length;y++)g[y]=m[y];return g}return Array.from(m)}Object.defineProperty(r,"__esModule",{value:!0}),r.actionCreators=void 0;var u=Object.assign||function(m){for(var g,y=1;y<arguments.length;y++)for(var h in g=arguments[y],g)Object.prototype.hasOwnProperty.call(g,h)&&(m[h]=g[h]);return m},d=l(96),c=function(m){return m&&m.__esModule?m:{default:m}}(d),p=new c.default("REPERTOIRE",[],{init:function(y,g){var h=g.initState;return h},addPlayer:function(y,g){var h=g.name,v=g.user,x=g.id;return[].concat(s(y),[{name:h,user:v,id:x}])},removePlayer:function(y,g){var h=g.playerId;return y.filter(function(v){return v.id!==h})},markDuplicateName:function(y,g){var h=g.playerId;return y.map(function(v){return v.id===h?u({},v,{duplicateName:!0}):v})},unmarkDuplicateName:function(y,g){var h=g.playerId;return y.map(function(v){if(v.id!==h)return v;var x=u({},v);return delete x.duplicateName,x})},markDuplicateUserName:function(y,g){var h=g.playerId;return y.map(function(v){return v.id===h?u({},v,{duplicateUsername:!0}):v})},unmarkDuplicateUserName:function(y,g){var h=g.playerId;return y.map(function(v){if(v.id!==h)return v;var x=u({},v);return delete x.duplicateUsername,x})},setPlayerName:function(y,g){var h=g.playerId,v=g.newName;return y.map(function(x){return x.id===h?u({},x,{name:v}):x})},setPlayerUsername:function(y,g){var h=g.playerId,v=g.newUserName;return y.map(function(x){return x.id===h?u({},x,{user:v}):x})}},!1,!1);r.default=p.getReducer();r.actionCreators=p.getActionCreators()},223:function(t,r,l){"use strict";function s(y,g,h){return g in y?Object.defineProperty(y,g,{value:h,enumerable:!0,configurable:!0,writable:!0}):y[g]=h,y}Object.defineProperty(r,"__esModule",{value:!0}),r.actionCreators=void 0;var u=Object.assign||function(y){for(var h,g=1;g<arguments.length;g++)for(var v in h=arguments[g],h)Object.prototype.hasOwnProperty.call(h,v)&&(y[v]=h[v]);return y},d=l(96),c=function(y){return y&&y.__esModule?y:{default:y}}(d),f=new c.default("PLAYERSRED",{},{addPlayer:function(g,h){var v=h.playerId,x=h.name,P=h.username;return u({},g,s({},v,{name:x,user:P}))},removePlayer:function(g,h){var v=h.playerId,x={};return Object.keys(g).forEach(function(P){P!=v&&(x[P]=g[P])}),x},addToTeam:function(g,h){var v=h.playerId,x=h.teamId;return null==g[v]?g:u({},g,s({},v,u({},g[v],{team:x})))},removeFromTeam:function(g,h){var v=h.playerId;if(null==g[v])return g;var x=u({},g[v]);return delete x.team,null==g[v]?g:u({},g,s({},v,x))},setPlayerName:function(g,h){var v=h.playerId,x=h.newName;return null==g[v]?g:u({},g,s({},v,u({},g[v],{name:x})))},setPlayerUserName:function(g,h){var v=h.playerId,x=h.newUserName;return null==g[v]?g:u({},g,s({},v,u({},g[v],{user:x})))}},!1,!1);r.default=f.getReducer();r.actionCreators=f.getActionCreators()},224:function(t,r,l){"use strict";function o(T){return T&&T.__esModule?T:{default:T}}function s(T){if(Array.isArray(T)){for(var O=0,M=Array(T.length);O<T.length;O++)M[O]=T[O];return M}return Array.from(T)}Object.defineProperty(r,"__esModule",{value:!0}),r.actionCreators=r.secondarySetupGoose=void 0;var u=Object.assign||function(T){for(var M,O=1;O<arguments.length;O++)for(var B in M=arguments[O],M)Object.prototype.hasOwnProperty.call(M,B)&&(T[B]=M[B]);return T},d=l(316),c=l(222),p=l(223),f=l(141),m=l(353),y=o(m),g=l(189),h=o(g),v="INFANTEAM/CHASER/PLAYERS",x=r.secondarySetupGoose=new h.default("___SETUPSAGA",{selectPlayer:regeneratorRuntime.mark(function T(O){var M=O.playerId,B,R;return regeneratorRuntime.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,d.select)(k);case 2:return B=D.sent,R=B(M),D.next=6,(0,d.put)(p.actionCreators.addPlayer(M,R.name,R.user));case 6:return D.next=8,(0,d.put)(f.actionCreators.addTeam(M,R.name));case 8:return D.next=10,(0,d.put)(f.actionCreators.addPlayer(M,M));case 10:return D.next=12,(0,d.put)(p.actionCreators.addToTeam(M,M));case 12:case"end":return D.stop();}},T,this)})},void 0,!1,!1),P=x.getActionCreators(),C=new h.default("___SETUPSAGA",{initSetup:regeneratorRuntime.mark(function T(){var O,M,B,R,A;return regeneratorRuntime.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,d.call)(y.default.getObject,v,"[]");case 2:return O=F.sent,M=new Set,B=new Set,R=new Set,A=O.filter(function(U){return M.has(U.name)||null!=U.user&&B.has(U.user)||R.has(U.id)?(console.warn("Removing duplicate player item in repertoire:",U),console.warn("\tExisting names in repertoire:    ",[].concat(s(M))),console.warn("\tExisting usernames in repertoire:",[].concat(s(B))),console.warn("\tExisting IDs in repertoire:      ",[].concat(s(R))),!1):(M.add(U.name),null!=U.user&&B.add(U.user),R.add(U.id),!0)}),F.next=9,(0,d.put)(c.actionCreators.init(A));case 9:case"end":return F.stop();}},T,this)}),unselectPlayer:regeneratorRuntime.mark(function T(O){var M=O.playerId;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,d.put)(p.actionCreators.removePlayer(M));case 2:return R.next=4,(0,d.put)(f.actionCreators.removeTeam(M));case 4:case"end":return R.stop();}},T,this)}),createPlayer:regeneratorRuntime.mark(function T(O){var M=O.newName,B,R,A,D,F,U,G;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(null==M||""===M.trim()){q.next=30;break}return q.next=3,(0,d.select)(w);case 3:return q.t0=q.sent,B=q.t0-1,q.next=7,(0,d.put)(c.actionCreators.addPlayer(M,null,B));case 7:return q.next=9,(0,d.select)(I);case 9:if(R=q.sent,A=R(M),!(null!==A&&1<A.length)){q.next=23;break}D=[].concat(s(A),[B]),F=0;case 14:if(!(F<D.length)){q.next=21;break}return U=D[F],q.next=18,(0,d.put)(c.actionCreators.markDuplicateName(U));case 18:F++,q.next=14;break;case 21:q.next=25;break;case 23:return q.next=25,(0,d.put)(P.selectPlayer(B));case 25:return q.next=27,(0,d.select)(N);case 27:return G=q.sent,q.next=30,(0,d.call)(y.default.putObject,v,G);case 30:case"end":return q.stop();}},T,this)}),renamePlayer:regeneratorRuntime.mark(function T(O){var M=O.playerId,B=O.newName,R,A,D,F,U,G,z,q,j,L,H,K,V;return regeneratorRuntime.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(null==B||""===B.trim()){X.next=53;break}return X.next=3,(0,d.select)(S);case 3:if(R=X.sent,A=R(M),null!=A){X.next=10;break}return X.next=8,(0,d.select)(k);case 8:R=X.sent,A=R(M);case 10:if(D=A.name,B===D){X.next=53;break}return X.next=14,(0,d.put)(c.actionCreators.setPlayerName(M,B));case 14:return X.next=16,(0,d.put)(p.actionCreators.setPlayerName(M,B));case 16:if(null==A.team){X.next=19;break}return X.next=19,(0,d.put)(f.actionCreators.setTeamName(A.team,B));case 19:return X.next=21,(0,d.select)(I);case 21:if(F=X.sent,U=F(D),null===U||2!==U.length){X.next=35;break}G=[].concat(s(U),[M]),z=0;case 26:if(!(z<G.length)){X.next=33;break}return q=G[z],X.next=30,(0,d.put)(c.actionCreators.unmarkDuplicateName(q));case 30:z++,X.next=26;break;case 33:X.next=37;break;case 35:return X.next=37,(0,d.put)(c.actionCreators.unmarkDuplicateName(M));case 37:if(j=F(B),!(null!==j&&1<j.length)){X.next=48;break}L=[].concat(s(j),[M]),H=0;case 41:if(!(H<L.length)){X.next=48;break}return K=L[H],X.next=45,(0,d.put)(c.actionCreators.markDuplicateName(K));case 45:H++,X.next=41;break;case 48:return X.next=50,(0,d.select)(N);case 50:return V=X.sent,X.next=53,(0,d.call)(y.default.putObject,v,V);case 53:case"end":return X.stop();}},T,this)}),removePlayer:regeneratorRuntime.mark(function T(O){var M=O.playerId,B,R,A,D,F,U,G,z,q,j;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,d.select)(k);case 2:return B=H.sent,R=B(M),H.next=6,(0,d.select)(I);case 6:if(A=H.sent,D=A(R.name),null===D||2!==D.length){H.next=18;break}F=[].concat(s(D),[M]),U=0;case 11:if(!(U<F.length)){H.next=18;break}return G=F[U],H.next=15,(0,d.put)(c.actionCreators.unmarkDuplicateName(G));case 15:U++,H.next=11;break;case 18:return H.next=20,(0,d.put)(c.actionCreators.removePlayer(M));case 20:return H.next=22,(0,d.select)(S);case 22:if(z=H.sent,q=z(M),null==q){H.next=30;break}return H.next=27,(0,d.put)(p.actionCreators.removePlayer(M));case 27:if(!q.team){H.next=30;break}return H.next=30,(0,d.put)(f.actionCreators.removeTeam(q.team));case 30:return H.next=32,(0,d.select)(N);case 32:return j=H.sent,H.next=35,(0,d.call)(y.default.putObject,v,j);case 35:case"end":return H.stop();}},T,this)})},void 0,!1,!1),E=r.actionCreators=u({},C.getActionCreators(),P);r.default=C;var S=function(O){return function(M){return O.players[M]}},k=function(O){return function(M){var B=!0,R=!1,A;try{for(var F,U,D=O.repertoire[Symbol.iterator]();!(B=(F=D.next()).done);B=!0)if(U=F.value,U.id==M)return U}catch(G){R=!0,A=G}finally{try{!B&&D.return&&D.return()}finally{if(R)throw A}}return null}},w=function(O){return O.repertoire.reduce(function(M,B){return _Mathmin(M,B.id)},0)},I=function(O){return function(M){return O.repertoire.filter(function(B){return B.name===M}).map(function(B){return B.id})}},N=function(O){return O.repertoire}},225:function(){},325:function(t,r,l){"use strict";function o(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(r,"__esModule",{value:!0});var s=l(3),u=o(s),d=l(137),c=l(335),p=o(c),f=l(336),m=o(f),y=l(337),g=o(y),h=l(344),v=o(h);r.default=u.default.createElement(d.Route,{path:"/",component:p.default},u.default.createElement(d.IndexRoute,{component:m.default}),u.default.createElement(d.Route,{path:"setup",component:v.default}),u.default.createElement(d.Route,{path:"game",component:g.default}))},326:function(){},327:function(){},328:function(){},329:function(){},334:function(t,r){"use strict";function o(y){if(Array.isArray(y)){for(var g=0,h=Array(y.length);g<y.length;g++)h[g]=y[g];return h}return Array.from(y)}function s(y,g){var h,v,x,P,C,E,S,k,w,I,N,T,O,M;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:for(h=[],v=!0,x=!1,P=void 0,R.prev=4,C=y[Symbol.iterator]();!(v=(E=C.next()).done);v=!0)S=E.value,h.splice(p(h),0,S);R.next=12;break;case 8:R.prev=8,R.t0=R["catch"](4),x=!0,P=R.t0;case 12:R.prev=12,R.prev=13,!v&&C.return&&C.return();case 15:if(R.prev=15,!x){R.next=18;break}throw P;case 18:return R.finish(15);case 19:return R.finish(12);case 20:k=m(h,4,0);case 21:g,w=!0,I=!1,N=void 0,R.prev=26,T=h[Symbol.iterator]();case 28:if(w=(O=T.next()).done){R.next=35;break}return M=O.value,R.next=32,M;case 32:w=!0,R.next=28;break;case 35:R.next=41;break;case 37:R.prev=37,R.t1=R["catch"](26),I=!0,N=R.t1;case 41:R.prev=41,R.prev=42,!w&&T.return&&T.return();case 44:if(R.prev=44,!I){R.next=47;break}throw N;case 47:return R.finish(44);case 48:return R.finish(41);case 49:h=[].concat(o(k)),k=m(h,4,0),R.next=21;break;case 53:case"end":return R.stop();}},c[0],this,[[4,8,12,20],[13,,15,19],[26,37,41,49],[42,,44,48]])}function u(y){var g,h,v,x,P,C;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:g=!0,h=!1,v=void 0,S.prev=4,x=y[Symbol.iterator]();case 6:if(g=(P=x.next()).done){S.next=13;break}return C=P.value,S.next=10,C;case 10:g=!0,S.next=6;break;case 13:S.next=19;break;case 15:S.prev=15,S.t0=S["catch"](4),h=!0,v=S.t0;case 19:S.prev=19,S.prev=20,!g&&x.return&&x.return();case 22:if(S.prev=22,!h){S.next=25;break}throw v;case 25:return S.finish(22);case 26:return S.finish(19);case 27:S.next=0;break;case 29:case"end":return S.stop();}},c[1],this,[[4,15,19,27],[20,,22,26]])}function d(y,g){var h,v;return regeneratorRuntime.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:h=0,v=y.length;case 2:return P.next=5,y[h++];case 5:h>=v&&(h=0,y=g()),P.next=2;break;case 8:case"end":return P.stop();}},c[2],this)}Object.defineProperty(r,"__esModule",{value:!0});var c=[s,u,d].map(regeneratorRuntime.mark),p=function(g){return _Mathfloor(Math.random()*g.length)},m=function(g,h){var v=_Mathfloor(g.length/h*(h-1));(0===v||v===g.length)&&(v=g.length-1);for(var x=g.slice(0,v),P=g.slice(v,g.length),C=[],E=[],S=void 0,k=void 0,w=0;w<P.length;w++)S=p(x),k=x[S],x.splice(S,1),C.splice(p(C),0,k);var I=!0,N=!1,T;try{for(var M,O=x[Symbol.iterator]();!(I=(M=O.next()).done);I=!0)k=M.value,E.splice(p(E),0,k)}catch(U){N=!0,T=U}finally{try{!I&&O.return&&O.return()}finally{if(N)throw T}}var B=!0,R=!1,A;try{for(var F,D=P[Symbol.iterator]();!(B=(F=D.next()).done);B=!0)k=F.value,E.splice(p(E),0,k)}catch(U){R=!0,A=U}finally{try{!B&&D.return&&D.return()}finally{if(R)throw A}}return[].concat(C,E)};r.default={scoreBased:d,fixed:u,random:s,shuffleNextRound:m}},335:function(t,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=l(3),u=function(d){return d&&d.__esModule?d:{default:d}}(s);l(354),r.default=function(d){return u.default.createElement("div",{className:"main-container"},d.children)}},336:function(t,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=l(3),u=function(c){return c&&c.__esModule?c:{default:c}}(s),d=l(104);r.default=function(){return setTimeout(function(){d.history.push("/setup")},100),u.default.createElement("i",{className:"testing"})}},337:function(t,r,l){"use strict";function o(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(r,"__esModule",{value:!0});var s=l(3),u=o(s),d=l(343),c=o(d),p=l(338),f=o(p);l(356),r.default=function(){return u.default.createElement("div",{className:"game-container"},u.default.createElement(c.default,null),u.default.createElement(f.default,null))}},338:function(t,r,l){"use strict";function o(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(r,"__esModule",{value:!0});var s=l(3),u=o(s),d=l(105),c=l(88),p=l(104),f=l(140),m=l(106),y=l(350),g=o(y),h=l(340),v=o(h),x=l(342),P=o(x),S=(0,c.createSelector)([function(N){return N.shot},function(N){return N.game},g.default],function(I,N,T){return{shot:I,gameId:N.id,canGiveBackShot:T.canGiveShotBackToPrevious,currentTarget:N.currentTarget,currentPlayer:T.currentPlayerId,nextPlayer:T.nextPlayerIds[0]}}),k={toggleTableBall:m.actionCreators.toggleTableBall,handleShot:m.actionCreators.handleShot,initShot:f.actionCreators.init,giveBackShot:m.actionCreators.backToPreviousPlayer};l(357);r.default=(0,d.connect)(S,k)(function(N){var T=N.currentTarget,O=N.gameId,M=N.currentPlayer,B=N.nextPlayer,R=N.shot,A=N.initShot,D=N.handleShot,F=N.canGiveBackShot,U=N.toggleTableBall,G=N.giveBackShot;return O?u.default.createElement("div",{className:"gamepad half-container right-half"},u.default.createElement(v.default,{down:R.down,out:R.out,toggleTableBall:U,currentTarget:T,foul:R.foul}),u.default.createElement(P.default,{score:R.score,onReset:function(){return A(M)},onScore:function(){return D(R,T,B)},canGiveBackShot:F,giveBackShot:G})):(p.history.push("setup"),u.default.createElement("div",null))})},339:function(t,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=l(3),u=function(d){return d&&d.__esModule?d:{default:d}}(s);r.default=function(d){var c=d.value,p=d.toggle,f=d.isDown,m=d.isOut,y=d.ballStyle,g=d.currentTarget,h=0<c&&c<g,v=(0===c?"cue ":"")+"ball unselectable"+(f?" down":"")+(m?" out":"")+(c===g?" target":"")+(h?" disabled":"");return u.default.createElement("div",{className:"ball-wrapper unselectable",unselectable:"on"},u.default.createElement("div",{className:v,style:y,onClick:h?null:function(){return p(c)},role:"button",title:0<c?"Ball "+c:"Cue ball (foul)",id:"ball"+c,tabIndex:h?"-1":"0",unselectable:"on"},0<c?c:"foul"))}},340:function(t,r,l){"use strict";function o(S){return S&&S.__esModule?S:{default:S}}function s(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function u(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&("object"==typeof k||"function"==typeof k)?k:S}function d(S,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function S(k,w){for(var N,I=0;I<w.length;I++)N=w[I],N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(k,N.key,N)}return function(k,w,I){return w&&S(k.prototype,w),I&&S(k,I),k}}(),p=Object.assign||function(S){for(var w,k=1;k<arguments.length;k++)for(var I in w=arguments[k],w)Object.prototype.hasOwnProperty.call(w,I)&&(S[I]=w[I]);return S},f=l(3),m=o(f),y=l(339),g=o(y),h=l(341),v=o(h);l(358);var x=function(k){var w=k.values,I=k.downs,N=k.outs,T=k.currentTarget,O=k.toggle,M=k.ballStyle;return m.default.createElement("div",{className:"ball-row"},w.map(function(B){var R=I[B],A=N[B];return m.default.createElement(g.default,p({key:B},{value:B,isDown:R,isOut:A,toggle:O,ballStyle:M,currentTarget:T}))}))},P={0:!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1,13:!1,14:!1,15:!1},C=p({},P),E=function(S){function k(w){s(this,k);var I=u(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,w));return I.state={size:0},I.ballFieldElem=void 0,I.getBallField=I.getBallField.bind(I),I.setSize=I.setSize.bind(I),I.toggleBall=I.toggleBall.bind(I),I}return d(k,S),c(k,[{key:"getBallField",value:function(){return this.ballFieldElem}},{key:"setSize",value:function(I){this.setState({size:I})}},{key:"toggleBall",value:function(I){var N=this.props;N.toggleTableBall(I,N.down,N.out,N.currentTarget)}},{key:"render",value:function(){var I=this,N=p({},P);this.props.down.forEach(function(A){N[A]=!0});var T=p({},C);this.props.out.forEach(function(A){T[A]=!0});var O=this.state.size,M=!O||1>O?0:.6*O+10,B={borderRadius:M+"px",fontSize:_Mathfloor(M/7.5)+"px"},R=p({},this.props,{downs:N,outs:T,ballStyle:B,toggle:this.toggleBall});return m.default.createElement("div",{className:"ballfield",ref:function(D){return I.ballFieldElem=D}},m.default.createElement(v.default,{getContainer:this.getBallField,setSize:this.setSize},m.default.createElement("div",{className:"ball-table"+(this.props.foul?" foul":"")},m.default.createElement(x,p({},R,{values:[0,1,2,3]})),m.default.createElement(x,p({},R,{values:[4,5,6,7]})),m.default.createElement(x,p({},R,{values:[8,9,10,11]})),m.default.createElement(x,p({},R,{values:[12,13,14,15]})))))}}]),k}(m.default.Component);r.default=E},341:function(t,r,l){"use strict";function s(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}function u(y,g){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&("object"==typeof g||"function"==typeof g)?g:y}function d(y,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);y.prototype=Object.create(g&&g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(y,g):y.__proto__=g)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function y(g,h){for(var x,v=0;v<h.length;v++)x=h[v],x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}return function(g,h,v){return h&&y(g.prototype,h),v&&y(g,v),g}}(),p=l(3),f=function(y){return y&&y.__esModule?y:{default:y}}(p),m=function(y){function g(h){s(this,g);var v=u(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,h));return v.makeSquare=v.makeSquare.bind(v),v.lookForContainer=v.lookForContainer.bind(v),v}return d(g,y),c(g,[{key:"makeSquare",value:function(v){var x=v.clientWidth,P=v.clientHeight,C=P>x?x:P;this.vertiCenter.style.height=C+"px",this.horiCenter.style.width=C+"px",this.props.setSize(C)}},{key:"lookForContainer",value:function(v){var x=this;if(1>v)throw Error("Somethings wrong. Couldn't get ballfield container.");var P=this.props.getContainer();P?this.makeSquare(P):setTimeout(function(){return x.lookForContainer(v-1)},3)}},{key:"componentDidMount",value:function(){this.lookForContainer(1e3)}},{key:"render",value:function(){var v=this;return f.default.createElement("div",{className:"vertical-center",ref:function(P){return v.vertiCenter=P}},f.default.createElement("div",{className:"horiz-center",ref:function(P){return v.horiCenter=P}},this.props.children))}}]),g}(f.default.Component);r.default=m},342:function(t,r,l){"use strict";function o(x){return x&&x.__esModule?x:{default:x}}function s(x,P){if(!(x instanceof P))throw new TypeError("Cannot call a class as a function")}function u(x,P){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&("object"==typeof P||"function"==typeof P)?P:x}function d(x,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function, not "+typeof P);x.prototype=Object.create(P&&P.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(x,P):x.__proto__=P)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function x(P,C){for(var S,E=0;E<C.length;E++)S=C[E],S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(P,S.key,S)}return function(P,C,E){return C&&x(P.prototype,C),E&&x(P,E),P}}(),p=l(3),f=o(p),m=l(139),y=o(m);l(359);var h=function(P){return function(C){return C*(P/300)+"px"}},v=function(x){function P(C){s(this,P);var E=u(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,C));return E.state={size:0},E.lookForContainer=E.lookForContainer.bind(E),E}return d(P,x),c(P,[{key:"lookForContainer",value:function(E){var S=this;if(1>E)throw Error("Somethings wrong. Couldn't get footer container.");if(!this.footerElem)setTimeout(function(){return S.lookForContainer(E-1)},3);else{var k=_Mathmin(this.footerElem.clientWidth,5*this.footerElem.clientHeight);this.setState({size:k})}}},{key:"componentDidMount",value:function(){this.lookForContainer(1e3)}},{key:"render",value:function(){var E=this,S=this.props,k=S.score,w=S.onReset,I=S.onScore,N=S.canGiveBackShot,T=S.giveBackShot,O=this.state.size,M=h(O),B={padding:M(37)+" "+M(30)},R={padding:M(10)+" 0",width:M(260),fontSize:M(32),borderRadius:M(5)},A={marginLeft:M(13)},D={padding:M(10)+" "+M(20),fontSize:M(32),borderRadius:M(5)};return 0!==O&&setTimeout(function(){E.footerElem.style.flex="0 0 auto"},50),f.default.createElement("div",{className:"button-footer flex-row",ref:function(U){return E.footerElem=U},style:B},0===k&&N?f.default.createElement(y.default,{narrow:!0,clazz:"give-back",title:"Force the previous player to shoot again",onClick:T,label:"Give back",faIcon:"thumbs-down",mainStyleOverrides:D,iconStyleOverrides:A}):f.default.createElement(y.default,{narrow:!0,disabled:0===k,clazz:"reset",title:"Reset",onClick:w,label:"Reset",faIcon:"times",mainStyleOverrides:D,iconStyleOverrides:A}),f.default.createElement("span",{className:"flex1"}),f.default.createElement(y.default,{narrow:!0,clazz:"score"+(0<k?" positive":0>k?" negative":""),title:"Score "+k+" points",onClick:I,label:k+" points",faIcon:"arrow-right",mainStyleOverrides:R}))}}]),P}(f.default.Component);r.default=v},343:function(t,r,l){"use strict";function o(P){return P&&P.__esModule?P:{default:P}}Object.defineProperty(r,"__esModule",{value:!0});var s=l(3),u=o(s),d=l(105),c=l(88),p=l(351),f=o(p),m=l(106),h=(0,c.createSelector)([function(C){return C.teams},function(C){return C.players},f.default.teamIdsByScore,f.default.playerCount,f.default.countDifferentPlayers,f.default.now,f.default.future],function(P,C,E,S,k,w,I){return{sortedTeamIds:E,now:w,future:I,turnCount:k,playerCount:S,getPlayerName:function(B){return C[B].name},getTeamName:function(B){return P[B].name},getTeamScore:function(B){return P[B].score}}}),v={openMenu:m.actionCreators.openMenu};l(360);r.default=(0,d.connect)(h,v)(function(C){var E=C.sortedTeamIds,S=C.now,k=C.future,w=C.turnCount,I=C.playerCount,N=C.getPlayerName,T=C.getTeamName,O=C.getTeamScore,M=C.openMenu,B=0;return u.default.createElement("div",{className:"overview half-container left-half"},u.default.createElement("div",{className:"flex-row",role:"button","aria-label":"Game menu",onClick:M},u.default.createElement("i",{className:"fa fa-bars no-flex","aria-hidden":"true",id:"game-menu-button"}),u.default.createElement("h1",{className:"flex1"},"Chaser")),u.default.createElement("h3",null,"Score board:"),u.default.createElement("ul",{className:"standing"},E.map(function(R){return u.default.createElement("li",{key:R,className:"teamscore flex-row"},u.default.createElement("span",{className:"team-name flex1 ellipsis"},T(R),":"),u.default.createElement("span",{className:"team-score no-flex"},O(R)))})),u.default.createElement("h3",null,"Playing:"),u.default.createElement("ul",{className:"future"},u.default.createElement("li",{className:"now flex-row"+(0==(B+w)%I?" last-in-turn":"")},u.default.createElement("span",{className:"name flex1 ellipsis"},null==S?"":N(S)),u.default.createElement("span",{className:"no-flex"},u.default.createElement("i",{className:"fa fa-caret-right","aria-hidden":"true"}))),k.map(function(R){return u.default.createElement("li",{key:B++,className:"playername ellipsis"+(0==(B+w)%I?" last-in-turn":"")},N(R))})))})},344:function(t,r,l){"use strict";function o(T){return T&&T.__esModule?T:{default:T}}function s(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function u(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&("object"==typeof O||"function"==typeof O)?O:T}function d(T,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function T(O,M){for(var R,B=0;B<M.length;B++)R=M[B],R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(O,R.key,R)}return function(O,M,B){return M&&T(O.prototype,M),B&&T(O,B),O}}(),p=l(3),f=o(p),m=l(105),y=l(346),g=o(y),h=l(345),v=o(h),x=l(139),P=o(x),C=l(106),E=l(224),S=l(142),k=o(S);l(361);var w=function(T){function O(M){return s(this,O),u(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,M))}return d(O,T),c(O,[{key:"componentWillMount",value:function(){this.props.initSetup()}},{key:"render",value:function(){var B=this.props,R=B.players,A=B.playerIds,D=B.repertoire,F=B.teamCount,U=B.selectPlayer,G=B.unselectPlayer,z=B.createPlayer,q=B.removePlayer,j=B.renamePlayer,L=B.startNewGame;return f.default.createElement("div",null,f.default.createElement("div",{className:"setup-header"},f.default.createElement("div",{className:"headings"},f.default.createElement("h1",null,"Chaser"),f.default.createElement("h2",null,"Setup new game:"),f.default.createElement(P.default,{disabled:2>F,label:"Play",clazz:"start-game",onClick:function(){L(!0)},title:2>F?"Add at least to players to start a game":"Start a new game",faIcon:"play"}))),f.default.createElement("div",{className:"setup-container"},f.default.createElement("div",{className:"repertoire"},f.default.createElement("h3",null,"Players in this game:"),1>F?null:f.default.createElement("ul",{className:"participants"},A.map(function(H){var K=R[H];return f.default.createElement("li",{key:H},f.default.createElement(g.default,{name:K.name,isSelected:!0,onToggleSelect:function(){return G(H)},onDelete:function(){return q(H)},onUpdateName:function(W){return j(H,W)}}))})),f.default.createElement(v.default,{onUpdateName:z})),D&&1>D.length?null:f.default.createElement("div",{className:"repertoire"},f.default.createElement("h3",null,"Recently used players:"),f.default.createElement("ul",null,D.map(function(H){return f.default.createElement("li",{key:H.id},f.default.createElement(g.default,{name:H.name,isSelected:!1,onToggleSelect:function(){return U(H.id)},onDelete:function(){return q(H.id)},onUpdateName:function(V){return j(H.id,V)}}))})))))}}]),O}(f.default.Component),N={selectPlayer:E.actionCreators.selectPlayer,unselectPlayer:E.actionCreators.unselectPlayer,initSetup:E.actionCreators.initSetup,createPlayer:E.actionCreators.createPlayer,renamePlayer:E.actionCreators.renamePlayer,removePlayer:E.actionCreators.removePlayer,startNewGame:C.actionCreators.initGame};r.default=(0,m.connect)(function(O){var M=(0,k.default)(O).playerIds;return{teamCount:Object.keys(O.teams).length,players:O.players,playerIds:M,repertoire:O.repertoire.filter(function(B){return-1===M.indexOf(B.id)})}},N)(w)},345:function(t,r,l){"use strict";function o(h){return h&&h.__esModule?h:{default:h}}function s(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function u(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&("object"==typeof v||"function"==typeof v)?v:h}function d(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function h(v,x){for(var C,P=0;P<x.length;P++)C=x[P],C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}return function(v,x,P){return x&&h(v.prototype,x),P&&h(v,P),v}}(),p=l(3),f=o(p),m=l(220),y=o(m);l(225);var g=function(h){function v(x){s(this,v);var P=u(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x));return P.state={isEditing:!1},P.startUpdateName=P.startUpdateName.bind(P),P.finishUpdateName=P.finishUpdateName.bind(P),P}return d(v,h),c(v,[{key:"startUpdateName",value:function(){this.setState({isEditing:!0})}},{key:"finishUpdateName",value:function(){this.setState({isEditing:!1})}},{key:"render",value:function(){var P=this.props.onUpdateName;return f.default.createElement("div",{className:"player new flex-row"+(this.state.isEditing?" editing":""),title:"Add a new player",onClick:this.startUpdateName},f.default.createElement("div",{className:"selection icon no-flex"},f.default.createElement("i",{className:"fa fa-"+(this.state.isEditing?"check-square-o":"plus"),role:"button","aria-hidden":"false",title:"Add a new player"})),this.state.isEditing?f.default.createElement(y.default,{value:"",onSubmit:P,onBlur:this.finishUpdateName,placeholder:"New player name...",containerClass:"flex1",formClass:"name-holder edit flex-row",fieldClass:"player-name flex1",buttonClass:"no-flex"}):f.default.createElement("div",{className:"flex1"},f.default.createElement("div",{className:"player-name ellipsis"},"Add a new player")),this.state.isEditing?f.default.createElement("div",{className:"update icon no-flex",onClick:this.finishUpdateName,title:"Store the name change"},f.default.createElement("i",{className:"fa fa-check",role:"button","aria-hidden":"false"})):null)}}]),v}(f.default.Component);g.propTypes={onUpdateName:p.PropTypes.func.isRequired},r.default=g},346:function(t,r,l){"use strict";function o(h){return h&&h.__esModule?h:{default:h}}function s(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function u(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&("object"==typeof v||"function"==typeof v)?v:h}function d(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function h(v,x){for(var C,P=0;P<x.length;P++)C=x[P],C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(v,C.key,C)}return function(v,x,P){return x&&h(v.prototype,x),P&&h(v,P),v}}(),p=l(3),f=o(p),m=l(220),y=o(m);l(225);var g=function(h){function v(x){s(this,v);var P=u(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x));return P.state={isEditing:!1},P.startUpdateName=P.startUpdateName.bind(P),P.finishUpdateName=P.finishUpdateName.bind(P),P}return d(v,h),c(v,[{key:"startUpdateName",value:function(){this.setState({isEditing:!0})}},{key:"finishUpdateName",value:function(){this.setState({isEditing:!1})}},{key:"render",value:function(){var P=this.props,C=P.isSelected,E=P.name,S=P.onToggleSelect,k=P.onDelete,w=P.onUpdateName;return f.default.createElement("div",{className:"player flex-row"+(this.state.isEditing?" editing":"")},f.default.createElement("div",{className:"selection icon no-flex",onClick:S},f.default.createElement("i",{className:"fa fa"+(C?"-check":"")+"-square-o",role:"button","aria-hidden":"false",title:C?"Remove "+this.props.name+" from the game (but keep the player for later)":"Add "+this.props.name+" to the game"})),this.state.isEditing?f.default.createElement(y.default,{value:this.props.name,onSubmit:w,onBlur:this.finishUpdateName,placeholder:"Player name...",containerClass:"flex1",formClass:"name-holder edit flex-row",fieldClass:"player-name flex1",buttonClass:"no-flex"}):f.default.createElement("div",{className:"flex1",title:"Change player name: "+this.props.name},f.default.createElement("div",{className:"player-name ellipsis",onClick:this.startUpdateName},E)),this.state.isEditing?f.default.createElement("div",{className:"update icon no-flex",onClick:this.finishUpdateName,title:"Store the name change"},f.default.createElement("i",{className:"fa fa-check",role:"button","aria-hidden":"false"})):null,C?null:f.default.createElement("div",{className:"delete icon no-flex",onClick:this.state.isEditing?null:k},f.default.createElement("i",{className:"fa fa-trash",role:"button","aria-hidden":"false",title:"Delete stored player from the app: "+this.props.name})))}}]),v}(f.default.Component);g.propTypes={isSelected:p.PropTypes.bool.isRequired,name:p.PropTypes.string,onToggleSelect:p.PropTypes.func.isRequired,onDelete:p.PropTypes.func.isRequired,onUpdateName:p.PropTypes.func.isRequired},r.default=g},347:function(t,r,l){"use strict";(function(o){function s(x){return x&&x.__esModule?x:{default:x}}l(330);var u=l(3),d=s(u),c=l(333),p=l(105),f=l(137),m=l(104),y=s(m),g=l(325),h=s(g),v=l(332);l(331).default=l(138),o.Promise=l(138),l(328),l(327),l(326),l(329),!1,(0,c.render)(d.default.createElement(p.Provider,{store:y.default},d.default.createElement(f.Router,{history:m.history},h.default)),document.getElementById("app")),console.log(JSON.stringify(v)),v.install()}).call(r,l(40))},348:function(t,r,l){"use strict";function o(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(r,"__esModule",{value:!0});var s=l(219),u=l(221),d=o(u),c=l(140),p=o(c),f=l(223),m=o(f),y=l(222),g=o(y),h=l(141),v=o(h);r.default=(0,s.combineReducers)({game:d.default,shot:p.default,players:m.default,repertoire:g.default,teams:v.default})},349:function(t,r,l){"use strict";function o(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(r,"__esModule",{value:!0});var s=l(189),u=l(106),d=o(u),c=l(224),p=o(c);r.default=(0,s.createRootSaga)([d.default,u.secondaryGameGoose,p.default,c.secondarySetupGoose])},350:function(t,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=l(88),s=function(f){return f.game},u=(0,o.createSelector)(s,function(p){return p.history}),d=(0,o.createSelector)(s,function(p){return p.sequence}),c=(0,o.createSelector)(s,function(p){return p.currentTurn});r.default=(0,o.createSelector)([d,c,u],function(p,f,m){return{currentPlayerId:p[f],nextPlayerIds:p.slice(f+1),canGiveShotBackToPrevious:0<f&&p[f]!==p[f-1]&&m[f-1].foul,getHistoryShot:function(g){return m[g]}}})},351:function(t,r,l){"use strict";function o(S){return S&&S.__esModule?S:{default:S}}function s(S){if(Array.isArray(S)){for(var k=0,w=Array(S.length);k<S.length;k++)w[k]=S[k];return w}return Array.from(S)}Object.defineProperty(r,"__esModule",{value:!0});var u=l(88),d=l(352),c=o(d),p=l(142),f=o(p),g=function(k){return k.game.sequence},h=function(k){return k.game.currentTurn},v=(0,u.createSelector)([g,h],function(S,k){for(var w=null,I=0,N=void 0,T=0;T<=k;T++)N=S[T],N!==w&&I++,w=N;return I}),x=(0,u.createSelector)([f.default],function(S){return S.playerIds.length}),P=(0,u.createSelector)([g,h,x],function(S,k,w){return[].concat(s(S)).slice(k+1,k+2*w)}),C=(0,u.createSelector)([g,h],function(S,k){return S[k]}),E=(0,u.createSelector)([function(k){return k.teams},function(k){return k.players},c.default],function(S,k,w){var I=function(B){return S[k[B].team]},N=function(B){return I(B).score},T=w.teamIds,O=[].concat(s(T));return O.sort(function(M,B){return N(B)-N(M)}),O});r.default={countDifferentPlayers:v,future:P,now:C,teamIdsByScore:E,playerCount:x}},352:function(t,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=l(88),s=function(p){return p.teams},u=(0,o.createSelector)(s,function(c){return function(p){return c[p]}}),d=(0,o.createSelector)(s,function(c){return Object.keys(c)});r.default=(0,o.createSelector)([u,d],function(c,p){return{getTeamById:c,teamIds:p}})},353:function(t,r,l){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=l(632),u=function(m){return m&&m.__esModule?m:{default:m}}(s);window.localStorage||Object.defineProperty(window,"localStorage",new function(){var m=[],y={};Object.defineProperty(y,"getItem",{value:function(h){return h?this[h]:null},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(y,"key",{value:function(h){return m[h]},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(y,"setItem",{value:function(h,v){h&&(document.cookie=escape(h)+"="+escape(v)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1}),Object.defineProperty(y,"length",{get:function(){return m.length},configurable:!1,enumerable:!1}),Object.defineProperty(y,"removeItem",{value:function(h){h&&(document.cookie=escape(h)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")},writable:!1,configurable:!1,enumerable:!1}),this.get=function(){var g;for(var h in y)g=m.indexOf(h),-1===g?y.setItem(h,y[h]):m.splice(g,1),delete y[h];for(m;0<m.length;m.splice(0,1))y.removeItem(m[0]);for(var v,x,P=0,C=document.cookie.split(/\s*;\s*/);P<C.length;P++)v=C[P].split(/\s*=\s*/),1<v.length&&(y[x=unescape(v[0])]=unescape(v[1]),m.push(x));return y},this.configurable=!1,this.enumerable=!0});var d=function(y){var g=localStorage.getItem(y);return null==g?(console.warn("localstorage.getItem("+y+") returned: "+g),g):u.default.decompress(g)},c=function(y,g){var h;null==g?(console.warn("Storing "+g+" in localstorage.setItem("+y+")."),h=g):h=u.default.compress(g),localStorage.setItem(y,h)};r.default={get:d,put:c,getObject:function(y,g){return JSON.parse(d(y)||g)},putObject:function(y,g){c(y,JSON.stringify(g))}}},354:function(){},355:function(){},356:function(){},357:function(){},358:function(){},359:function(){},360:function(){},361:function(){}},[347]);